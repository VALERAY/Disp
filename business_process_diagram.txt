# ДИАГРАММА БИЗНЕС-ПРОЦЕССОВ СИСТЕМЫ "ДИСПЕТЧЕР ЗАЯВОК"

## ОСНОВНОЙ ПРОЦЕСС ОБРАБОТКИ ЗАЯВОК

```
                    ┌─────────────────┐
                    │   ПОЛЬЗОВАТЕЛЬ  │
                    └─────────┬───────┘
                              │
                              │ 1. Вход в систему
                              ▼
                    ┌─────────────────┐
                    │   АВТОРИЗАЦИЯ   │
                    └─────────┬───────┘
                              │
                              │ 2. Проверка учетных данных
                              ▼
                    ┌─────────────────┐
                    │   ГЛАВНОЕ МЕНЮ  │
                    └─────────┬───────┘
                              │
                    ┌─────────┴───────┐
                    │                 │
                    ▼                 ▼
        ┌─────────────────┐  ┌─────────────────┐
        │  СОЗДАНИЕ       │  │  ПРОСМОТР       │
        │  ЗАЯВКИ         │  │  ЗАЯВОК         │
        └─────────┬───────┘  └─────────┬───────┘
                  │                     │
                  │ 3. Заполнение       │ 4. Выбор заявки
                  │    формы           │
                  ▼                     ▼
        ┌─────────────────┐  ┌─────────────────┐
        │   ВАЛИДАЦИЯ     │  │   ДЕЙСТВИЯ      │
        │   ДАННЫХ        │  │   С ЗАЯВКОЙ     │
        └─────────┬───────┘  └─────────┬───────┘
                  │                     │
                  │ 5. Сохранение       │ 6. Редактирование/
                  │    в БД             │    Изменение статуса/
                  ▼                     │    Удаление
        ┌─────────────────┐             │
        │   УВЕДОМЛЕНИЕ    │             ▼
        │   О СОЗДАНИИ    │    ┌─────────────────┐
        └─────────┬───────┘    │   ОБНОВЛЕНИЕ    │
                  │           │   ДАННЫХ        │
                  │           └─────────┬───────┘
                  │                     │
                  │ 7. Обновление       │ 8. Сохранение
                  │    списка           │    изменений
                  ▼                     ▼
        ┌─────────────────┐    ┌─────────────────┐
        │   ОБНОВЛЕНИЕ    │    │   ОБНОВЛЕНИЕ    │
        │   ИНТЕРФЕЙСА    │    │   ИНТЕРФЕЙСА    │
        └─────────────────┘    └─────────────────┘
                  │                     │
                  └─────────┬───────────┘
                            │
                            ▼
                  ┌─────────────────┐
                  │   ФИЛЬТРАЦИЯ    │
                  │   И ПОИСК       │
                  └─────────┬───────┘
                            │
                            │ 9. Применение фильтров
                            ▼
                  ┌─────────────────┐
                  │   ОТОБРАЖЕНИЕ   │
                  │   РЕЗУЛЬТАТОВ   │
                  └─────────┬───────┘
                            │
                            │ 10. Экспорт данных
                            ▼
                  ┌─────────────────┐
                  │   ФОРМИРОВАНИЕ  │
                  │   ОТЧЕТА        │
                  └─────────┬───────┘
                            │
                            │ 11. Сохранение файла
                            ▼
                  ┌─────────────────┐
                  │   ЗАВЕРШЕНИЕ    │
                  │   ПРОЦЕССА      │
                  └─────────────────┘
```

## ПРОЦЕСС УПРАВЛЕНИЯ ПОЛЬЗОВАТЕЛЯМИ (ТОЛЬКО ДЛЯ АДМИНИСТРАТОРА)

```
                    ┌─────────────────┐
                    │   АДМИНИСТРАТОР │
                    └─────────┬───────┘
                              │
                              │ 1. Доступ к админ-панели
                              ▼
                    ┌─────────────────┐
                    │   АДМИН-ПАНЕЛЬ  │
                    └─────────┬───────┘
                              │
                    ┌─────────┴───────┐
                    │                 │
                    ▼                 ▼
        ┌─────────────────┐  ┌─────────────────┐
        │  СОЗДАНИЕ       │  │  УПРАВЛЕНИЕ     │
        │  ПОЛЬЗОВАТЕЛЯ   │  │  НАСТРОЙКАМИ    │
        └─────────┬───────┘  └─────────┬───────┘
                  │                     │
                  │ 2. Заполнение       │ 3. Настройка
                  │    данных           │    параметров
                  ▼                     ▼
        ┌─────────────────┐    ┌─────────────────┐
        │   ВАЛИДАЦИЯ     │    │   СОХРАНЕНИЕ    │
        │   ДАННЫХ        │    │   НАСТРОЕК      │
        └─────────┬───────┘    └─────────────────┘
                  │
                  │ 4. Сохранение в БД
                  ▼
        ┌─────────────────┐
        │   УВЕДОМЛЕНИЕ    │
        │   О СОЗДАНИИ    │
        └─────────────────┘
```

## ПРОЦЕСС ЭКСПОРТА ДАННЫХ

```
                    ┌─────────────────┐
                    │   ПОЛЬЗОВАТЕЛЬ  │
                    └─────────┬───────┘
                              │
                              │ 1. Выбор типа экспорта
                              ▼
                    ┌─────────────────┐
                    │   ВЫБОР ТИПА    │
                    │   ЭКСПОРТА      │
                    └─────────┬───────┘
                              │
                    ┌─────────┴───────┐
                    │                 │
                    ▼                 ▼
        ┌─────────────────┐  ┌─────────────────┐
        │  ТЕКУЩИЙ СПИСОК │  │  ЗА ПЕРИОД     │
        └─────────┬───────┘  └─────────┬───────┘
                  │                     │
                  │ 2. Применение       │ 3. Выбор периода
                  │    фильтров         │
                  ▼                     ▼
        ┌─────────────────┐    ┌─────────────────┐
        │   ФОРМИРОВАНИЕ  │    │   ФОРМИРОВАНИЕ  │
        │   ДАННЫХ        │    │   ДАННЫХ        │
        └─────────┬───────┘    └─────────┬───────┘
                  │                       │
                  └─────────┬─────────────┘
                            │
                            │ 4. Создание Excel-файла
                            ▼
                  ┌─────────────────┐
                  │   СОХРАНЕНИЕ    │
                  │   ФАЙЛА         │
                  └─────────┬───────┘
                            │
                            │ 5. Уведомление об успехе
                            ▼
                  ┌─────────────────┐
                  │   ЗАВЕРШЕНИЕ    │
                  └─────────────────┘
```

## СТАТУСЫ ЗАЯВОК И ИХ ПЕРЕХОДЫ

```
    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
    │   СОЗДАНИЕ  │───►│ НЕ ВЫПОЛНЕНО│───►│  В РАБОТЕ   │
    │             │    │             │    │             │
    └─────────────┘    └─────────────┘    └─────────────┘
                              │                 │
                              │                 │
                              ▼                 ▼
                    ┌─────────────┐    ┌─────────────┐
                    │ ВЫПОЛНЕНО   │◄───│  ЗАКРЫТО    │
                    │             │    │             │
                    └─────────────┘    └─────────────┘
```

## РОЛИ И ПРАВА ДОСТУПА

```
┌─────────────────┐    ┌─────────────────┐
│   АДМИНИСТРАТОР │    │     ОПЕРАТОР   │
│                 │    │                 │
│ • Управление    │    │ • Создание      │
│   пользователями│    │   заявок        │
│ • Настройка     │    │ • Просмотр      │
│   системы       │    │   заявок        │
│ • Полный доступ │    │ • Редактирование│
│   к функциям    │    │   заявок        │
│ • Админ-панель  │    │ • Фильтрация    │
│                 │    │ • Экспорт       │
└─────────────────┘    └─────────────────┘
```

## АРХИТЕКТУРА СИСТЕМЫ

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   ПОЛЬЗОВАТЕЛЬ  │    │   ПРИЛОЖЕНИЕ   │    │   БАЗА ДАННЫХ  │
│                 │    │                 │    │                 │
│ • GUI Interface │◄──►│ • Business Logic│◄──►│ • SQLite DB    │
│ • Tkinter       │    │ • Data Access   │    │ • Users Table  │
│ • Forms         │    │ • Validation    │    │ • Records Table│
│ • Controls      │    │ • Export Engine│    │ • Monthly Split│
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   ВВОД ДАННЫХ   │    │   ОБРАБОТКА     │    │   ХРАНЕНИЕ      │
│                 │    │                 │    │                 │
│ • Валидация     │    │ • Фильтрация    │    │ • CRUD операции │
│ • Форматирование│    │ • Поиск         │    │ • Транзакции    │
│ • Проверка      │    │ • Сортировка    │    │ • Индексы       │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## КЛЮЧЕВЫЕ АЛГОРИТМЫ

### 1. Алгоритм фильтрации
```
ВХОД: keyword, start_date, end_date, status, operator
    ↓
ПОСТРОЕНИЕ SQL-ЗАПРОСА
    ↓
ДОБАВЛЕНИЕ УСЛОВИЙ WHERE
    ↓
ВЫПОЛНЕНИЕ ЗАПРОСА
    ↓
ВОЗВРАТ ОТФИЛЬТРОВАННЫХ ДАННЫХ
```

### 2. Алгоритм классификации проблем
```
ВХОД: problem_text
    ↓
ПРИВЕДЕНИЕ К НИЖНЕМУ РЕГИСТРУ
    ↓
ПРОВЕРКА КЛЮЧЕВЫХ СЛОВ
    ↓
[СОВПАДЕНИЕ НАЙДЕНО?]
    ↓ ДА              ↓ НЕТ
ВОЗВРАТ КАТЕГОРИИ    ВОЗВРАТ "ДРУГОЕ"
```

### 3. Алгоритм экспорта
```
ВХОД: filters, export_type
    ↓
ПОЛУЧЕНИЕ ДАННЫХ ПО ФИЛЬТРАМ
    ↓
ФОРМАТИРОВАНИЕ ДАННЫХ
    ↓
СОЗДАНИЕ EXCEL-ФАЙЛА
    ↓
СОХРАНЕНИЕ ФАЙЛА
    ↓
УВЕДОМЛЕНИЕ ПОЛЬЗОВАТЕЛЯ
```

